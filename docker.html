<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 1.5.7.1">
<title>Untitled</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | http://asciidoctor.org */
/* Uncomment @import statement below to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section,summary{display:block}
audio,canvas,video{display:inline-block}
audio:not([controls]){display:none;height:0}
script{display:none!important}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:transparent}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:none}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #ddddd8;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt,table tr:nth-of-type(even){background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
*:not(pre)>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background-color:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
*:not(pre)>code.nobreak{word-wrap:normal}
*:not(pre)>code.nowrap{white-space:nowrap}
pre,pre>code{line-height:1.45;color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;text-rendering:optimizeSpeed}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background-color:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #ddddd8}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #ddddd8;padding-bottom:8px}
#header .details{border-bottom:1px solid #ddddd8;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #ddddd8;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #efefed;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background-color:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #efefed;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #efefed;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background-color:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #efefed}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #ddddd8;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock pre:not(.highlight),.listingblock pre[class="highlight"],.listingblock pre[class^="highlight "],.listingblock pre.CodeRay,.listingblock pre.prettyprint{background:#f7f7f8}
.sidebarblock .literalblock pre,.sidebarblock .listingblock pre:not(.highlight),.sidebarblock .listingblock pre[class="highlight"],.sidebarblock .listingblock pre[class^="highlight "],.sidebarblock .listingblock pre.CodeRay,.sidebarblock .listingblock pre.prettyprint{background:#f2f1f1}
.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;padding:1em;font-size:.8125em}
.literalblock pre.nowrap,.literalblock pre[class].nowrap,.listingblock pre.nowrap,.listingblock pre[class].nowrap{overflow-x:auto;white-space:pre;word-wrap:normal}
@media screen and (min-width:768px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.literalblock pre[class],.listingblock pre,.listingblock pre[class]{font-size:1em}}
.literalblock.output pre{color:#f7f7f8;background-color:rgba(0,0,0,.9)}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:#999}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:#999}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
table.pyhltable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.pyhltable td{vertical-align:top;padding-top:0;padding-bottom:0;line-height:1.45}
table.pyhltable td.code{padding-left:.75em;padding-right:0}
pre.pygments .lineno,table.pyhltable td:not(.code){color:#999;padding-left:0;padding-right:.5em;border-right:1px solid #ddddd8}
pre.pygments .lineno{display:inline-block;margin-right:.25em}
table.pyhltable .linenodiv{background:none!important;padding-right:0!important}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock blockquote p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.5em;margin-right:.5ex;text-align:right}
.quoteblock .quoteblock{margin-left:0;margin-right:0;padding:.5em 0;border-left:3px solid rgba(0,0,0,.6)}
.quoteblock .quoteblock blockquote{padding:0 0 0 .75em}
.quoteblock .quoteblock blockquote::before{display:none}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.abstract blockquote,.quoteblock.abstract blockquote p{word-spacing:0;line-height:1.6}
.quoteblock.abstract blockquote::before,.quoteblock.abstract p::before{display:none}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd){background:#f8f8f7}
table.stripes-none tr,table.stripes-odd tr:nth-of-type(even){background:none}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
td>div.verse{white-space:pre}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left,.imageblock[style*="float: left"]{margin:.25em .625em 1.25em 0}
.imageblock.right,.imageblock[style*="float: right"]{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background-color:#00fafa}
.black{color:#000}
.black-background{background-color:#000}
.blue{color:#0000bf}
.blue-background{background-color:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background-color:#fa00fa}
.gray{color:#606060}
.gray-background{background-color:#7d7d7d}
.green{color:#006000}
.green-background{background-color:#007d00}
.lime{color:#00bf00}
.lime-background{background-color:#00fa00}
.maroon{color:#600000}
.maroon-background{background-color:#7d0000}
.navy{color:#000060}
.navy-background{background-color:#00007d}
.olive{color:#606000}
.olive-background{background-color:#7d7d00}
.purple{color:#600060}
.purple-background{background-color:#7d007d}
.red{color:#bf0000}
.red-background{background-color:#fa0000}
.silver{color:#909090}
.silver-background{background-color:#bcbcbc}
.teal{color:#006060}
.teal-background{background-color:#007d7d}
.white{color:#bfbfbf}
.white-background{background-color:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background-color:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background-color:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background-color:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #ddddd8!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article">
<div id="header">
</div>
<div id="content">
<table class="tableblock frame-none grid-none stripes-none stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 16.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="pictures/cheatsheet_talanlabs.png" alt="CheatSheet" width="301" height="200">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="pictures/docker.png" alt="Docker" width="300" height="200">
</div>
</div></div></td>
<th class="tableblock halign-left valign-top"></th>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-none stripes-none stretch">
<colgroup>
<col style="width: 15%;">
<col>
<col style="width: 15%;">
<col>
<col style="width: 18%;">
<col>
<col style="width: 16%;">
<col>
<col style="width: 16%;">
<col>
<col style="width: 16%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="sect1">
<h2 id="_docker_command">Docker Command</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_general_usage">General Usage</h3>
<div class="listingblock">
<div class="title">Start a container in Background</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker run -d jenkins</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Start an interactive container</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker run -it ubuntu bash</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Start a container and remove once stopped</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker run --rm jenkins</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Expose a port from the container on the host</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker run -p 8000:4000 -d jenkins</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Start a named container</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker run --name myDb -d postgres</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Stop a running container</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker stop myDb</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Start a stoped container</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker start myDb</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_debug">Debug</h3>
<div class="listingblock">
<div class="title">Run a shell command in a running container</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker exec -it myNamedContainer sh</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Follow logs of a running container</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker logs -f myRunningContainer</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Show open port of container</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker port myRunningContainer</code></pre>
</div>
</div>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="sect2">
<h3 id="_building_images">Building Images</h3>
<div class="listingblock">
<div class="title">Build an image from a Dockerfile in same dir</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker build -t my-image .</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Force rebuild an image</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker build -t my-image --no-cache .</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create an image from a container</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker commit sha123123 my-image</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Remove an image</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker rmi my-image</code></pre>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_container_management">Container Management</h2>
<div class="sectionbody">
<div class="listingblock">
<div class="title">List running container</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker ps</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">List all container</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker ps -a</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Inspect container Metadata</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker inspect sha1231234</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">List local images</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker images</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Kill all container</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker kill $(docker ps -q)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Remove all stopped container</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker rm $(docker ps -q -a)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Removing all untagged image</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker rmi $(docker images \
  | grep "^&lt;none&gt;" | awk '{print $3}')</code></pre>
</div>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="sect2">
<h3 id="_volumes">Volumes</h3>
<div class="listingblock">
<div class="title">Mounting a local Directory on a container</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker run -v myFolder:/data myContainer</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create a local volume</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker volume create --name myVolume</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Mounting a volume on a container</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker run -v myVolume:/data myContainer</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Destroy a volume</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker volume rm myVolume</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">List volumes</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker volume ls</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_network">Network</h3>
<div class="listingblock">
<div class="title">Create a local Network</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker network create myNetwork</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Attach a container to a Network on startup</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker run --net myNetwork myContainer</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Connect a running container to a network</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker network connect myNetwork myContainer</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Disconnect a running container to a network</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ docker network disconnect myNetwork myContainer</code></pre>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" colspan="5"><div class="content"><div class="sect1">
<h2 id="_docker_compose_yml">docker-compose.yml</h2>
<div class="sectionbody">
<table class="tableblock frame-none grid-none stripes-none stretch">
<colgroup>
<col style="width: 38%;">
<col>
<col style="width: 60%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yml hljs" data-lang="yml">version: '3'

services: <i class="conum" data-value="1"></i><b>(1)</b>
  proxy: <i class="conum" data-value="2"></i><b>(2)</b>
    image: nginx:1.15.2 <i class="conum" data-value="3"></i><b>(3)</b>
    ports:  <i class="conum" data-value="4"></i><b>(4)</b>
      - "8080:8080"
    networks: <i class="conum" data-value="5"></i><b>(5)</b>
      - frontend
  web: <i class="conum" data-value="2"></i><b>(2)</b>
    env_file: env.env <i class="conum" data-value="6"></i><b>(6)</b>
    build: <i class="conum" data-value="7"></i><b>(7)</b>
      context: ./dir
      dockerfile: Dockerfile-alternate
      args:
        - MyARG=NicoAsArg
    ports: <i class="conum" data-value="4"></i><b>(4)</b>
      - "5000:5000"
    volumes: <i class="conum" data-value="8"></i><b>(8)</b>
      - .:/config
    depends_on: <i class="conum" data-value="9"></i><b>(9)</b>
      - postgresql
    working_dir: /app <i class="conum" data-value="10"></i><b>(10)</b>
    networks:  <i class="conum" data-value="5"></i><b>(5)</b>
      - database
      - frontend
  postgresql: <i class="conum" data-value="2"></i><b>(2)</b>
    image: postgresql <i class="conum" data-value="3"></i><b>(3)</b>
    networks:  <i class="conum" data-value="5"></i><b>(5)</b>
      - database

networks: <i class="conum" data-value="5"></i><b>(5)</b>
  database:
  frontend:</code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><strong><em>services</em></strong> : docker compose run services,</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><strong><em>services names</em></strong> : each services is referenced in docker-compose using its service name and not the docker sha or docker name</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><strong><em>images</em></strong> : instruct docker-compose that the service will use a <em>raw</em> image for the service execution</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><strong><em>ports</em></strong> : maps container port to host port</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td><strong><em>networks</em></strong> : segragates services between network for discovery and security.
In this example, proxy will never have access to the postgres database. But can refer to web as a known hostname, and web can access postgresql with postgresql hostname.</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td><strong><em>env_file</em></strong> : set list of environment variable available in the container from a file on the host - only available during execution, not build.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td><strong><em>build</em></strong> : instruct docker-compose to build the container from a Dockerfile.
Dockerfile filename and path can be overiden as described</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td><strong><em>volumes</em></strong> : volumes from host can also be mounted in the container<br>
very usefull in developpement to have your apps changes available in the service without rebuilding the container</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td><strong><em>depends_on</em></strong> : wait for depended services to be started - doesn&#8217;t mean it&#8217;s ready, just that compose has started the depended service.
watch the other side of the poster for more info on service dependencies</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td><strong><em>working_dir</em></strong> : same a WORKDIR in dockerfile, change to the specified directory</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" colspan="5"><div class="content"><div class="sect1">
<h2 id="_dockerfile">Dockerfile</h2>
<div class="sectionbody">
<table class="tableblock frame-none grid-none stripes-none stretch">
<colgroup>
<col style="width: 50%;">
<col>
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-dockerfile hljs" data-lang="dockerfile">LABEL maintainer="nicolas.savois@talan.com" <i class="conum" data-value="1"></i><b>(1)</b>

FROM debian:jessie <i class="conum" data-value="2"></i><b>(2)</b>

ENV nginxVer="XX.Y-Z" <i class="conum" data-value="3"></i><b>(3)</b>

RUN apt-get install open-ssl <i class="conum" data-value="4"></i><b>(4)</b>

RUN curl http://xx.org/.../nginx_${nginxVer}.deb -o nginx.deb -s &amp;&amp; \ <i class="conum" data-value="5"></i><b>(5)</b>
    dpkg -i nginx.deb &amp;&amp; \
    rm nginx.deb &amp;&amp; \ <i class="conum" data-value="6"></i><b>(6)</b>
    ln -s /etc/nginx/sites-available/site /etc/nginx/sites-enabled/site

COPY nginx.conf /etc/nginx/nginx.conf <i class="conum" data-value="7"></i><b>(7)</b>

ADD myapp.conf /etc/nginx/sites-available/ <i class="conum" data-value="8"></i><b>(8)</b>

USER 1000:1000 <i class="conum" data-value="9"></i><b>(9)</b>

WORKDIR /path/to/workdir <i class="conum" data-value="10"></i><b>(10)</b>

ENTRYPOINT nginx start <i class="conum" data-value="11"></i><b>(11)</b></code></pre>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><strong>LABEL</strong> : Add a label to the metadata of the docker image</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td><strong>FROM</strong> : The base image used to build the new image</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td><strong>ENV</strong> : Create and environment variable reusable later, check (5) for usage</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td><strong>RUN</strong> : Run a command to build the image like adding a package, touching file, etc&#8230;&#8203;</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td><strong>&amp;&amp; \</strong> : Each line in the dockerfile create a new layer in the docker image. To avoid the layer multiplication we group commands with this shell feature</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td><strong><em>trick</em></strong> : Remove the downloaded file from the layer - no need to keep it once installed</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td><strong>COPY</strong> : Copy inside the image a file from the host (replace if it exists)</td>
</tr>
<tr>
<td><i class="conum" data-value="8"></i><b>8</b></td>
<td><strong>ADD</strong> : Copy inside the specified folder, - just use <strong>COPY</strong>, <strong>ADD</strong> comes with Magic around, and we all hate magic! (right?)</td>
</tr>
<tr>
<td><i class="conum" data-value="9"></i><b>9</b></td>
<td><strong>USER</strong> : Change user, goes back to the kernel and run the next commands as the user with UID:GID from the docker host (1000:1000 is the first user created on nearly all linux distribution)</td>
</tr>
<tr>
<td><i class="conum" data-value="10"></i><b>10</b></td>
<td><strong>WORKDIR</strong> : Change directory, (most expensive cd in the world)</td>
</tr>
<tr>
<td><i class="conum" data-value="11"></i><b>11</b></td>
<td><strong>ENTRYPOINT</strong> : Command run when the container start (PID=1)</td>
</tr>
</table>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top" colspan="5"><div class="content"><table class="tableblock frame-none grid-none stripes-none stretch">
<colgroup>
<col style="width: 33%;">
<col>
<col style="width: 33%;">
<col>
<col style="width: 33%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="sect1">
<h2 id="_docker_compose_command">Docker Compose Command</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_general_usage_2">General Usage</h3>
<div class="listingblock">
<div class="title">build the container from docker-compose.yml</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">docker-compose build</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">specify non default compose file</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">docker-compose -f myConfig.yml run backup</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">specify a project name</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">docker-compose -p myproject run backup</code></pre>
</div>
</div>
<div class="paragraph">
<p>used by compose to define container name with <code>docker ps</code>, defaults to the folder name</p>
</div>
<div class="listingblock">
<div class="title">create an alias for docker-compose</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">alias dc='docker-compose'</code></pre>
</div>
</div>
<div class="paragraph">
<p>will save you a lot of typing :)</p>
</div>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="sect2">
<h3 id="_managing_composed_services">Managing Composed Services</h3>
<div class="listingblock">
<div class="title">run the services in foreground</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">docker-compose up</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">run the services in background</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">docker-compose up -d</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">run only one service</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">docker-compose up web</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">stop &amp; remove all services, volmes &amp; network</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">docker-compose down</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">stop one service</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">docker-compose stop web</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">restart a stoped service</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">docker-compose start web</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">remove a container associated with service</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">docker-compose rm web</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">stop and remove everything</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">docker-compose rm -vfs web</code></pre>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="sect2">
<h3 id="_debuging_composed_services">Debuging Composed Services</h3>
<div class="listingblock">
<div class="title">Running Commands in started container</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">docker-compose exec web sh</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Running commands in container</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">docker-compose exec web sh</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">follow logs of the containers</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">docker-compose logs -f --tail=10</code></pre>
</div>
</div>
<div class="paragraph">
<p>tail only display 10 lines of history,
useful when compose runs for a long time&#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="title">display running services</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">docker-compose ps</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">validate compose config and show compose file</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">docker-compose config</code></pre>
</div>
</div>
</div></div></td>
</tr>
</tbody>
</table></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-none grid-none stripes-none stretch">
<colgroup>
<col style="width: 49%;">
<col>
<col style="width: 49%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><table class="tableblock frame-none grid-none stripes-none stretch">
<colgroup>
<col style="width: 49%;">
<col>
<col style="width: 49%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="sect1">
<h2 id="_best_practices">Best Practices</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_the_twelve_factors">The Twelve Factors</h3>
<div class="olist lowergreek">
<ol class="lowergreek">
<li>
<p><strong><em>Codebase</em></strong><br>
One codebase tracked in revision control, many deploys</p>
</li>
<li>
<p><strong><em>Dependencies</em></strong><br>
Explicitly declare and isolate dependencies</p>
</li>
<li>
<p><strong><em>Config</em></strong><br>
Store config in the environment</p>
</li>
<li>
<p><strong><em>Backing services</em></strong><br>
Treat backing services as attached resources</p>
</li>
<li>
<p><strong><em>Build, release, run</em></strong><br>
Strictly separate build and run stages</p>
</li>
<li>
<p><strong><em>Processes</em></strong><br>
Execute the app as one or more stateless processes</p>
</li>
<li>
<p><strong><em>Port binding</em></strong><br>
Export services via port binding</p>
</li>
<li>
<p><strong><em>Concurrency</em></strong><br>
Scale out via the process model</p>
</li>
<li>
<p><strong><em>Disposability</em></strong><br>
Maximize robustness with fast startup and graceful shutdown</p>
</li>
<li>
<p><strong><em>Dev/prod parity</em></strong><br>
Keep development, staging, and production as similar as possible</p>
</li>
<li>
<p><strong><em>Logs</em></strong><br>
Treat logs as event streams</p>
</li>
<li>
<p><strong><em>Admin processes</em></strong><br>
Run admin/management tasks as one-off processes</p>
</li>
</ol>
</div>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="sect2">
<h3 id="_package_a_single_application_per_container">Package a single application per container</h3>
<div class="paragraph">
<p>Never ever use anything like a supervisor or a bash that spawn process inside a container.
1 container 1 process that&#8217;s it.
It would cripple the scalability offered by containers.</p>
</div>
</div>
<div class="sect2">
<h3 id="_properly_handle_pid_1_signal_handling_and_zombie_processes">Properly handle PID 1, signal handling, and zombie processes</h3>
<div class="paragraph">
<p>If your process dies you don&#8217;t want it to leave child / zombie processes behind and plague the host resources</p>
</div>
<div class="ulist">
<div class="title">3 possibilities :</div>
<ul>
<li>
<p>run your binary from the CMD / ENTRYPOINT command in the Dockerfile - safest and easiest</p>
</li>
<li>
<p>if you really need to launch a shell script that will itself launch your binary after setting things up, do it with the exec command. It will transfer the PID 1 to the binary and you will be safe</p>
</li>
<li>
<p>use a custom init system inside the container like tini and use it as the entrypoint of your container. You have got to know what you are doing here.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_use_vulnerability_scanning_in_container_registry">Use vulnerability scanning in Container Registry</h3>
<div class="paragraph">
<p>Security wise, it&#8217;s a good practice to scan the available image in your image repository and verify that there&#8217;s nothing too old.</p>
</div>
<div class="ulist">
<div class="title">for exemple:</div>
<ul>
<li>
<p>CoreOS Clair <a href="https://github.com/coreos/clair/" class="bare">https://github.com/coreos/clair/</a></p>
</li>
<li>
<p>Notary <a href="https://github.com/docker/notary" class="bare">https://github.com/docker/notary</a></p>
</li>
</ul>
</div>
</div></div></td>
</tr>
</tbody>
</table></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><table class="tableblock frame-none grid-none stripes-none stretch">
<colgroup>
<col style="width: 49%;">
<col>
<col style="width: 49%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="sect1">
<h2 id="_docker_compose_best_practices">Docker-Compose Best Practices</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="_managing_startup_with_compose">Managing startup with compose</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Compose will start all the service nearly at the same time,
you can specify a depends_on attribute to "orchastrate the startup order"
but it will not wait for the service to be up and running.</p>
</div>
<div class="paragraph">
<p>Suppose your API layer is a java spring app which takes a little while to boot, you don&#8217;t want your frontend service to be up too soon without the API ready.</p>
</div>
<div class="paragraph">
<p>There&#8217;s a few tricks to manage the startup order<br>
They all rely on way to start the process in the container</p>
</div>
<div class="sect2">
<h3 id="_wait_for_it">wait-for-it</h3>
<div class="paragraph">
<p><a href="https://github.com/vishnubob/wait-for-it" class="bare">https://github.com/vishnubob/wait-for-it</a></p>
</div>
<div class="paragraph">
<p>Wrap your calls with the binary in your service command</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-dockerfile hljs" data-lang="dockerfile">version: "2"
services:
  web:
    build: .
    ports:
      - "80:8000"
    depends_on:
      - "db"
    command: ["./wait-for-it.sh", "db:5432", "--", "python", "app.py"]
  db:
    image: postgres</code></pre>
</div>
</div>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="sect2">
<h3 id="_dockerize">dockerize</h3>
<div class="paragraph">
<p><a href="https://github.com/jwilder/dockerize" class="bare">https://github.com/jwilder/dockerize</a></p>
</div>
<div class="paragraph">
<p>Dockerize is a utility to simplify running applications in docker containers. It allows you to:</p>
</div>
<div class="listingblock">
<div class="title">in Dockerfile :</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-dockerfile hljs" data-lang="dockerfile">CMD dockerize
     -template /etc/nginx/nginx.tmpl:/etc/nginx/nginx.conf
     -stdout /var/log/nginx/access.log -stderr /var/log/nginx/error.log
     -wait tcp://web:8000 nginx</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">in docker-compose :</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">web:
  command: [
    "dockerize",
      "-template /etc/nginx/nginx.tmpl:/etc/nginx/nginx.conf",
      "-stdout /var/log/nginx/access.log",
      "-stderr /var/log/nginx/error.log",
      "-wait tcp://web:8000 nginx"
   ]</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Wait for other services to be available using TCP, HTTP(S)</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ dockerize -wait tcp://db:5432 -wait http://web:80
            -wait file:///tmp/generated-file
            -timeout 10s</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Tail multiple log files to stdout and/or stderr</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ dockerize -stdout info.log -stdout perf.log -stderr error.log</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Generate configuration files at container startup time</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">$ dockerize -template template1.tmpl:file1.cfg
            -template template2.tmpl:file3</code></pre>
</div>
</div>
<div class="paragraph">
<p>from templates and container environment variables</p>
</div>
</div></div></td>
</tr>
</tbody>
</table></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><table class="tableblock frame-none grid-none stripes-none stretch">
<colgroup>
<col style="width: 49%;">
<col>
<col style="width: 49%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><div class="content"><div class="sect1">
<h2 id="_dockerfile_things">Dockerfile Things</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_carefully_consider_whether_to_use_a_public_image">Carefully consider whether to use a public image</h3>
<div class="paragraph">
<p>Only trust official image from docker hub.
If you like an untrusted image, prefere copying the dockerfile and maintain it like that, it will protect from docker image change that would have suspicious activity.</p>
</div>
</div>
<div class="sect2">
<h3 id="_optimize_for_the_docker_build_cache">Optimize for the Docker build cache</h3>
<div class="ulist">
<ul>
<li>
<p>use the same base image as much as possible</p>
</li>
<li>
<p>keep the same step order accross your dockerfile</p>
</li>
<li>
<p>also means your have to share the build context in your CI</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_build_the_smallest_image_possible">Build the smallest image possible</h3>
<div class="ulist">
<ul>
<li>
<p>merge you command into a signe RUN command</p>
</li>
<li>
<p>avoid switching context in the image build</p>
<div class="ulist">
<ul>
<li>
<p>don&#8217;t change USER back and forth</p>
</li>
<li>
<p>don&#8217;t set multiple ENV, use envfile</p>
</li>
</ul>
</div>
</li>
<li>
<p>use alpine or even distroless images</p>
</li>
<li>
<p>to help you can use multi stage build when needed</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_remove_unnecessary_tools">Remove unnecessary tools</h3>
<div class="paragraph">
<p>Don&#8217;t give attacker tools and permission they could use like netcat, curl</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Compile apps in a single binary file, and add it to a scratch image.</p>
</li>
<li>
<p>Run container in read-only mode with <code>--read-only</code></p>
</li>
</ul>
</div>
</div>
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="sect1">
<h2 id="_multistage_build">Multistage Build</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Multistage build is a way to decouple build container that produce a binary and the container that runs this binary.</p>
</div>
<div class="sect3">
<h4 id="_dockerfile_2">Dockerfile</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-dockerfile hljs" data-lang="dockerfile">FROM golang:1.7.3 as builder <i class="conum" data-value="1"></i><b>(1)</b>
WORKDIR /go/src/github.com/alexellis/href-counter/
RUN go get -d -v golang.org/x/net/html
COPY app.go . <i class="conum" data-value="2"></i><b>(2)</b>
RUN CGO_ENABLED=0 GOOS=linux go build -a -installsuffix cgo -o app . <i class="conum" data-value="3"></i><b>(3)</b>

FROM alpine:latest <i class="conum" data-value="4"></i><b>(4)</b>
RUN apk --no-cache add ca-certificates
WORKDIR /root/
COPY --from=builder /go/src/github.com/alexellis/href-counter/app . <i class="conum" data-value="5"></i><b>(5)</b>
CMD ["./app"] <i class="conum" data-value="6"></i><b>(6)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>named target (as) to use in <em>futur</em> target</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>copy your code in the container to build</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>build a single binary</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>2nd target, it will be the base image for the produced image</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>copy the binary from the first image to the second image</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>run target is the copied binary</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_launching_the_build">Launching the build</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">docker build -t nsa/gotest:latest .</code></pre>
</div>
</div>
<div class="paragraph">
<p>Result 10MB image instead of 700MB well worth the hassle!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shelldocker hljs" data-lang="shelldocker">REPOSITORY          TAG                 IMAGE ID            SIZE
nsa/gotest          latest              bf19b53c1189        10.6MB
&lt;none&gt;              &lt;none&gt;              bf63bcebbf0d        695MB</code></pre>
</div>
</div>
<div class="paragraph">
<p>still need to remove the <em>ghost</em> image</p>
</div>
</div>
</div>
</div></div></td>
</tr>
</tbody>
</table></div></td>
<td class="tableblock halign-left valign-top"></td>
<td class="tableblock halign-right valign-top"><div class="content"><div class="paragraph">
<p>&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br>
&#160;<br></p>
</div>
<table class="tableblock frame-none grid-none stripes-none stretch">
<colgroup>
<col style="width: 66.6666%;">
<col style="width: 16.6666%;">
<col style="width: 16.6668%;">
</colgroup>
<tbody>
<tr>
<th class="tableblock halign-left valign-top"></th>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="pictures/cheatsheet_talanlabs.png" alt="CheatSheet" width="301" height="200">
</div>
</div></div></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="pictures/docker.png" alt="Docker" width="300" height="200">
</div>
</div></div></td>
</tr>
</tbody>
</table></div></td>
</tr>
</tbody>
</table>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2018-09-05 14:32:29 CEST
</div>
</div>
<link rel="stylesheet" href="highlight/styles/github.min.css">
<script src="highlight/highlight.min.js"></script>
<script>hljs.initHighlighting()</script>
</body>
</html>